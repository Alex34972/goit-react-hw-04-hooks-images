{"version":3,"sources":["components/modal/Modal.module.css","components/imageGalleryItem/ImageGalleryItem.module.css","components/button/Button.module.css","App.module.css","components/imageGallery/ImageGallery.module.css","components/loader/LoaderComponent.module.css","components/searchbar/Searchbar.js","components/button/Button.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/loader/LoaderComponent.js","components/modal/Modal.js","services/image-api.js","App.js","reportWebVitals.js","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchImages","setSearchImages","className","s","SearchForm","event","preventDefault","type","SearchForm__button","SearchForm__button_label","SearchForm__input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","trim","Button","onMore","onClick","ImageGalleryItem","modalContent","id","props","onItemClick","this","webformatURL","tags","src","alt","ImageGalleryItem__image","Component","ImageGallery","handleOpenModal","e","target","images","map","image","key","LoaderComponent","Loader","color","height","width","modalRoot","document","getElementById","Modal","onClose","content","useEffect","window","addEventListener","handleKeyDown","code","createPortal","Overlay","imgModal","api","fetchImages","imagesName","page","url","fetch","then","response","ok","json","Promise","reject","Error","App","setModalContent","setPage","renderImages","setRenderImages","isLoading","setIsLoading","openModal","setOpenModal","error","setError","imageAPI","hits","prevrenderImages","onScroll","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","isNotLastPage","length","btnBeView","itemId","element","find","largeImageURL","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,qBAAqB,SAAW,0B,mBCA3FD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,wBAA0B,oD,mBCA1GD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,IAAM,mB,mBCAxBD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,kC,+ICIZ,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,EAAwCC,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KAUA,OACE,wBAAQC,UAAWC,IAAEN,UAArB,SACE,uBAAMK,UAAWC,IAAEC,WAAYN,SAPd,SAAAO,GACnBA,EAAMC,iBACNR,EAASE,GACTC,EAAgB,KAId,UACE,wBAAQM,KAAK,SAASL,UAAWC,IAAEK,mBAAnC,SACE,sBAAMN,UAAWC,IAAEM,yBAAnB,sBAGF,uBACEP,UAAWC,IAAEO,kBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,MAAOd,EACPe,SAtBiB,SAAAV,GAAK,OAC5BJ,EAAgBI,EAAMW,cAAcF,MAAMG,cAAcC,gB,qBCI7CC,EAVA,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAChB,OACE,wBAAQb,KAAK,SAASL,UAAWC,IAAEgB,OAAQE,QAASD,EAApD,wB,uFCAiBE,E,4MACnBC,aAAe,SAAAC,GACb,EAAKC,MAAMC,YAAYF,I,4CAEzB,WAAU,IAAD,OACP,EAAmCG,KAAKF,MAAhCD,EAAR,EAAQA,GAAII,EAAZ,EAAYA,aAAcC,EAA1B,EAA0BA,KAC1B,OACE,oBAAI3B,UAAWC,IAAEmB,iBAAjB,SACE,qBACEQ,IAAKF,EACLG,IAAKF,EACL3B,UAAWC,IAAE6B,wBACbX,QAAS,kBAAM,EAAKE,aAAaC,Y,GAZGS,aCAzBC,E,4MACnBC,gBAAkB,SAAAC,GACZA,EAAEC,SAAWD,EAAEpB,eACjB,EAAKS,MAAMJ,W,4CAIf,WACE,MAAgCM,KAAKF,MAA7Ba,EAAR,EAAQA,OAAQZ,EAAhB,EAAgBA,YAChB,OACE,oBAAIxB,UAAWC,IAAE+B,aAAcb,QAASM,KAAKQ,gBAA7C,SACGG,GACCA,EAAOC,KAAI,SAAAC,GAAK,OACd,wBAAC,EAAD,2BACMA,GADN,IAEEd,YAAaA,EACbe,IAAKD,EAAMhB,e,GAhBiBS,a,kCCFrBS,E,4JACnB,WACE,OACE,sBAAKxC,UAAWC,IAAEwC,OAAlB,UACE,cAAC,IAAD,CAAQpC,KAAK,OAAOqC,MAAM,UAAUC,OAAQ,GAAIC,MAAO,KADzD,W,GAHuCb,a,iBCEvCc,EAAYC,SAASC,eAAe,cAC3B,SAASC,EAAT,GAAsC,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QACvCC,qBAAU,WACRC,OAAOC,iBAAiB,UAAWC,MAErC,IAKMA,EAAgB,SAAApB,GAChB,WAAAA,EAAEqB,MACJN,KAGJ,OAAOO,uBACL,qBAAKxD,UAAWC,IAAEwD,QAAStC,QAXD,SAAAe,GACtBA,EAAEC,SAAWD,EAAEpB,eACjBmC,KASF,SACE,qBAAKjD,UAAWC,IAAE+C,MAAlB,SACE,qBAAKhD,UAAWC,IAAEyD,SAAU9B,IAAKsB,EAASrB,IAAI,SAGlDgB,GCbJ,IAIec,EAJH,CACVC,YAXF,SAAqBC,EAAYC,GAC/B,IAAMC,EAAG,UAHG,0BAGH,uDAA6DF,EAA7D,iBAAgFC,EAAhF,4BAJE,sCAKX,OAAOE,MAAMD,GAAKE,MAAK,SAAAC,GACrB,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,iCCErB,SAASC,IACtB,MAAwC3E,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAwCF,mBAAS,IAAjD,mBAAOwB,EAAP,KAAqBoD,EAArB,KACA,EAAwB5E,mBAAS,GAAjC,mBAAOiE,EAAP,KAAaY,EAAb,KACA,EAAwC7E,mBAAS,IAAjD,mBAAO8E,EAAP,KAAqBC,EAArB,KACA,EAAkC/E,oBAAS,GAA3C,mBAAOgF,EAAP,KAAkBC,EAAlB,KACA,EAAkCjF,oBAAS,GAA3C,mBAAOkF,EAAP,KAAkBC,EAAlB,KACA,EAA0BnF,mBAAS,MAAnC,mBAAOoF,EAAP,KAAcC,EAAd,KAEA/B,qBAAU,WACa,KAAjBrD,IACFgF,GAAa,GACbK,EACGvB,YAAY9D,EAAcgE,GAC1BG,MAAK,YAAe,IAAZmB,EAAW,EAAXA,KACPR,GAAgB,SAAAS,GAAgB,4BAAQA,GAAR,YAA6BD,UAE9DnB,KAAKqB,GACLC,OAAM,kBAAML,EAAS,CAAED,aACvBO,SAAQ,kBAAMV,GAAa,SAE/B,CAACG,EAAOnB,EAAMhE,IAEjB,IAQMwF,EAAW,WACflC,OAAOqC,SAAS,CACdC,IAAK5C,SAAS6C,gBAAgBC,aAC9BC,SAAU,YAIRC,EAAc,kBAAMd,GAAcD,IAMlCgB,EAAgBpB,EAAaqB,OAASlC,IAAS,GAC/CmC,EAAYtB,EAAaqB,OAAS,GAAKD,EAC7C,OACE,sBAAK/F,UAAWC,IAAEuE,IAAlB,UACE,cAAC7E,EAAD,CAAWC,SAzBU,SAAAE,GACvBC,EAAgBD,GAChB4E,EAAQ,GACRE,EAAgB,OAuBd,cAAC,EAAD,CACExC,OAAQuC,EACRxD,QAAS2E,EACTtE,YAZkB,SAAA0E,GACtB,IAAMC,EAAUxB,EAAayB,MAAK,qBAAG9E,KAAgB4E,KACrDzB,EAAgB0B,EAAQE,kBAYrBtB,GAAa,cAAC/B,EAAD,CAAOE,QAAS7B,EAAc4B,QAAS6C,IACpDjB,GAAa,cAAC,EAAD,IACboB,GAAa,cAAC,EAAD,CAAQ/E,OA5BH,WACrBwD,GAAQ,SAAAZ,GAAI,OAAIA,EAAO,WCxC3B,IAYewC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvC,MAAK,YAAkD,IAA/CwC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACxC,EAAD,MAEF1B,SAASC,eAAe,SAM1BuD,K,kBCfA7G,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,mBAAqB,sCAAsC,yBAA2B,4CAA4C,kBAAoB,wC","file":"static/js/main.c1c152b1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay___rXsX\",\"Modal\":\"Modal_Modal__v7nII\",\"imgModal\":\"Modal_imgModal__3GlYJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__dTSgT\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__36OsN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2fxxy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3lxaQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Mvfr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"LoaderComponent_Loader__3vr21\"};","import React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchImages, setSearchImages] = useState('');\n\n  const handleNameChange = event =>\n    setSearchImages(event.currentTarget.value.toLowerCase().trim());\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit(searchImages);\n    setSearchImages('');\n  };\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchForm__button}>\n          <span className={s.SearchForm__button_label}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForm__input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={searchImages}\n          onChange={handleNameChange}\n        />\n      </form>\n    </header>\n  );\n}\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\nconst Button = ({ onMore }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onMore}>\n      Load more\n    </button>\n  );\n};\nButton.propTypes = {\n  onMore: PropTypes.func.isRequired,\n};\nexport default Button;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './ImageGalleryItem.module.css';\n\nexport default class ImageGalleryItem extends Component {\n  modalContent = id => {\n    this.props.onItemClick(id);\n  };\n  render() {\n    const { id, webformatURL, tags } = this.props;\n    return (\n      <li className={s.ImageGalleryItem}>\n        <img\n          src={webformatURL}\n          alt={tags}\n          className={s.ImageGalleryItem__image}\n          onClick={() => this.modalContent(id)}\n        />\n      </li>\n    );\n  }\n}\nImageGalleryItem.propTypes = {\n  onItemClick: PropTypes.func.isRequired,\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../imageGalleryItem';\n\nexport default class ImageGallery extends Component {\n  handleOpenModal = e => {\n    if (e.target !== e.currentTarget) {\n      this.props.onClick();\n    }\n  };\n\n  render() {\n    const { images, onItemClick } = this.props;\n    return (\n      <ul className={s.ImageGallery} onClick={this.handleOpenModal}>\n        {images &&\n          images.map(image => (\n            <ImageGalleryItem\n              {...image}\n              onItemClick={onItemClick}\n              key={image.id}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\nImageGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n};\n","import Loader from 'react-loader-spinner';\nimport { Component } from 'react';\nimport s from './LoaderComponent.module.css';\nexport default class LoaderComponent extends Component {\n  render() {\n    return (\n      <div className={s.Loader}>\n        <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />;\n      </div>\n    );\n  }\n}\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.getElementById('modal-root');\nexport default function Modal({ onClose, content }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n  });\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.code === `Escape`) {\n      onClose();\n    }\n  };\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img className={s.imgModal} src={content} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  content: PropTypes.string.isRequired,\n};\n","const API_KEY = `21948852-6fcb2a22057a93c1128c532ff`;\nconst BASE_URL = `https://pixabay.com/api`;\n\nfunction fetchImages(imagesName, page) {\n  const url = `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${imagesName}&page=${page}&per_page=12&key=${API_KEY}`;\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('No response from server'));\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","/* eslint-disable no-use-before-define */\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport Searchbar from './components/searchbar';\nimport Button from './components/button';\nimport s from './App.module.css';\nimport ImageGallery from './components/imageGallery';\nimport LoaderComponent from './components/loader';\nimport Modal from './components/modal';\nimport imageAPI from './services/image-api';\n\nexport default function App() {\n  const [searchImages, setSearchImages] = useState('');\n  const [modalContent, setModalContent] = useState('');\n  const [page, setPage] = useState(1);\n  const [renderImages, setRenderImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [openModal, setOpenModal] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (searchImages !== '') {\n      setIsLoading(true);\n      imageAPI\n        .fetchImages(searchImages, page)\n        .then(({ hits }) => {\n          setRenderImages(prevrenderImages => [...prevrenderImages, ...hits]);\n        })\n        .then(onScroll)\n        .catch(() => setError({ error }))\n        .finally(() => setIsLoading(false));\n    }\n  }, [error, page, searchImages]);\n\n  const hadleChangeImage = searchImages => {\n    setSearchImages(searchImages);\n    setPage(1);\n    setRenderImages([]);\n  };\n  const handleNextPage = () => {\n    setPage(page => page + 1);\n  };\n  const onScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const toggleModal = () => setOpenModal(!openModal);\n\n  const modalContentSet = itemId => {\n    const element = renderImages.find(({ id }) => id === itemId);\n    setModalContent(element.largeImageURL);\n  };\n  const isNotLastPage = renderImages.length / page === 12;\n  const btnBeView = renderImages.length > 0 && isNotLastPage;\n  return (\n    <div className={s.App}>\n      <Searchbar onSubmit={hadleChangeImage} />\n      <ImageGallery\n        images={renderImages}\n        onClick={toggleModal}\n        onItemClick={modalContentSet}\n      />\n      {openModal && <Modal content={modalContent} onClose={toggleModal} />}\n      {isLoading && <LoaderComponent />}\n      {btnBeView && <Button onMore={handleNextPage} />}\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__17dBs\",\"SearchForm\":\"Searchbar_SearchForm__2fq18\",\"SearchForm__button\":\"Searchbar_SearchForm__button__tVYVK\",\"SearchForm__button_label\":\"Searchbar_SearchForm__button_label__2H5gl\",\"SearchForm__input\":\"Searchbar_SearchForm__input__3pa3t\"};"],"sourceRoot":""}