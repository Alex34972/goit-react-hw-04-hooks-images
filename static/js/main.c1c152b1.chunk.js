(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={Overlay:"Modal_Overlay___rXsX",Modal:"Modal_Modal__v7nII",imgModal:"Modal_imgModal__3GlYJ"}},14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__dTSgT",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__36OsN"}},17:function(e,t,a){e.exports={Button:"Button_Button__2fxxy"}},18:function(e,t,a){e.exports={App:"App_App__3lxaQ"}},19:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2Mvfr"}},21:function(e,t,a){e.exports={Loader:"LoaderComponent_Loader__3vr21"}},26:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=(a(26),a(15)),l=a(3),s=a(8),u=a.n(s),m=a(1);function b(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],o=r[1];return Object(m.jsx)("header",{className:u.a.Searchbar,children:Object(m.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c),o("")},children:[Object(m.jsx)("button",{type:"submit",className:u.a.SearchForm__button,children:Object(m.jsx)("span",{className:u.a.SearchForm__button_label,children:"Search"})}),Object(m.jsx)("input",{className:u.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){return o(e.currentTarget.value.toLowerCase().trim())}})]})})}var j=a(17),h=a.n(j),_=function(e){var t=e.onMore;return Object(m.jsx)("button",{type:"button",className:h.a.Button,onClick:t,children:"Load more"})},f=a(18),p=a.n(f),d=a(16),O=a(4),g=a(5),v=a(7),y=a(6),S=a(19),x=a.n(S),I=a(14),C=a.n(I),k=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).modalContent=function(t){e.props.onItemClick(t)},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.webformatURL,r=t.tags;return Object(m.jsx)("li",{className:C.a.ImageGalleryItem,children:Object(m.jsx)("img",{src:n,alt:r,className:C.a.ImageGalleryItem__image,onClick:function(){return e.modalContent(a)}})})}}]),a}(n.Component),F=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleOpenModal=function(t){t.target!==t.currentTarget&&e.props.onClick()},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.images,a=e.onItemClick;return Object(m.jsx)("ul",{className:x.a.ImageGallery,onClick:this.handleOpenModal,children:t&&t.map((function(e){return Object(n.createElement)(k,Object(d.a)(Object(d.a)({},e),{},{onItemClick:a,key:e.id}))}))})}}]),a}(n.Component),N=a(20),w=a.n(N),M=a(21),G=a.n(M),L=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:G.a.Loader,children:[Object(m.jsx)(w.a,{type:"Bars",color:"#00BFFF",height:80,width:80}),";"]})}}]),a}(n.Component),B=a(12),E=a.n(B),T=document.getElementById("modal-root");function A(e){var t=e.onClose,a=e.content;Object(n.useEffect)((function(){window.addEventListener("keydown",r)}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(m.jsx)("div",{className:E.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(m.jsx)("div",{className:E.a.Modal,children:Object(m.jsx)("img",{className:E.a.imgModal,src:a,alt:""})})}),T)}var P={fetchImages:function(e,t){var a="".concat("https://pixabay.com/api","/?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("21948852-6fcb2a22057a93c1128c532ff");return fetch(a).then((function(e){return e.ok?e.json():Promise.reject(new Error("No response from server"))}))}};function J(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(l.a)(c,2),s=o[0],u=o[1],j=Object(n.useState)(1),h=Object(l.a)(j,2),f=h[0],d=h[1],O=Object(n.useState)([]),g=Object(l.a)(O,2),v=g[0],y=g[1],S=Object(n.useState)(!1),x=Object(l.a)(S,2),I=x[0],C=x[1],k=Object(n.useState)(!1),N=Object(l.a)(k,2),w=N[0],M=N[1],G=Object(n.useState)(null),B=Object(l.a)(G,2),E=B[0],T=B[1];Object(n.useEffect)((function(){""!==a&&(C(!0),P.fetchImages(a,f).then((function(e){var t=e.hits;y((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))}))})).then(J).catch((function(){return T({error:E})})).finally((function(){return C(!1)})))}),[E,f,a]);var J=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},q=function(){return M(!w)},D=v.length/f===12,H=v.length>0&&D;return Object(m.jsxs)("div",{className:p.a.App,children:[Object(m.jsx)(b,{onSubmit:function(e){r(e),d(1),y([])}}),Object(m.jsx)(F,{images:v,onClick:q,onItemClick:function(e){var t=v.find((function(t){return t.id===e}));u(t.largeImageURL)}}),w&&Object(m.jsx)(A,{content:s,onClose:q}),I&&Object(m.jsx)(L,{}),H&&Object(m.jsx)(_,{onMore:function(){d((function(e){return e+1}))}})]})}var q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,49)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(J,{})}),document.getElementById("root")),q()},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__17dBs",SearchForm:"Searchbar_SearchForm__2fq18",SearchForm__button:"Searchbar_SearchForm__button__tVYVK",SearchForm__button_label:"Searchbar_SearchForm__button_label__2H5gl",SearchForm__input:"Searchbar_SearchForm__input__3pa3t"}}},[[48,1,2]]]);
//# sourceMappingURL=main.c1c152b1.chunk.js.map